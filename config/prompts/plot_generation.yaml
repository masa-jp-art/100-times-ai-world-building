# ========================================
# Prompt Templates: Phase 4 - Plot Generation
# ========================================

social_groups:
  system: |
    あなたは世界観構築の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下の世界設定に基づいて、10個の社会的集団を定義してください。

    社会構造: {social_structure}
    生活環境: {living_environment}
    [その他の累積コンテクスト]

    各集団には以下を含めてください:
    - name: 集団名
    - members: 構成員の説明
    - purpose: 目的
    - challenges: 課題
    - activities: 活動内容
    - characteristics: 特徴

    出力形式（必ずこのJSON形式で）:
    {{
      "social_groups": [
        {{
          "name": "集団名",
          "members": "構成員の説明",
          "purpose": "目的",
          "challenges": "課題",
          "activities": "活動内容",
          "characteristics": "特徴"
        }},
        ...
      ]
    }}

people_list:
  system: |
    あなたは世界観構築の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下の世界設定に基づいて、100人のペルソナを生成してください。

    社会構造: {social_structure}
    生活環境: {living_environment}
    社会的集団: {social_groups}

    各ペルソナには以下を含めてください:
    - name: 氏名
    - age: 年齢
    - gender: 性別
    - residence: 居住地
    - family: 家族構成
    - affiliation: 所属
    - role: 役割
    - income: 収入レベル
    - lifestyle: ライフスタイル
    - hobbies: 趣味
    - values: 価値観
    - goals: 目標
    - concerns: 悩み
    - relationships: 人間関係

    出力形式（必ずこのJSON形式で）:
    {{
      "people": [
        {{
          "name": "氏名",
          "age": 年齢,
          "gender": "性別",
          "residence": "居住地",
          "family": "家族構成",
          "affiliation": "所属",
          "role": "役割",
          "income": "収入レベル",
          "lifestyle": "ライフスタイル",
          "hobbies": "趣味",
          "values": "価値観",
          "goals": "目標",
          "concerns": "悩み",
          "relationships": "人間関係"
        }},
        ...
      ]
    }}

future_scenarios:
  system: |
    あなたは世界観構築の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下の世界設定に基づいて、50〜100年後の未来シナリオを3つ生成してください。

    [すべての累積世界設定]

    以下の3つのシナリオを生成してください:
    1. optimistic: 楽観的シナリオ
    2. pessimistic: 悲観的シナリオ
    3. moderate: 中間シナリオ

    各シナリオには以下を含めてください:
    - scenario_type: シナリオタイプ
    - timeline: 時間軸
    - key_changes: 主要な変化
    - social_impact: 社会への影響
    - technological_developments: 技術的発展
    - environmental_state: 環境状態
    - quality_of_life: 生活の質
    - conflicts: 紛争・対立
    - resolutions: 解決策

    出力形式（必ずこのJSON形式で）:
    {{
      "scenarios": [
        {{
          "scenario_type": "optimistic",
          "timeline": "時間軸",
          "key_changes": "主要な変化",
          "social_impact": "社会への影響",
          "technological_developments": "技術的発展",
          "environmental_state": "環境状態",
          "quality_of_life": "生活の質",
          "conflicts": "紛争・対立",
          "resolutions": "解決策"
        }},
        ...
      ]
    }}

plot:
  system: |
    あなたは創造的な物語作家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下のすべての世界設定に基づいて、10章構成の詳細プロットを生成してください。

    ユーザーコンテクスト: {user_context}
    プロットタイプ: {plottype}
    キャラクター: {characters_list}

    [すべての世界設定データ]

    全10章のプロットを生成してください。各章には以下を含めてください:
    - chapter: 章番号
    - situation: 物語世界の状況
    - events: 発生した事件
    - protagonist_emotions: 主人公の受動的感情
    - protagonist_actions: 主人公の意思と行動
    - situation_change: 状況の変化
    - foreshadowing: 次章への伏線（第1〜9章のみ）
    - conclusion: 物語の締めくくり（第10章のみ）

    出力形式（必ずこのJSON形式で）:
    {{
      "plot": {{
        "chapters": [
          {{
            "chapter": 1,
            "situation": "物語世界の状況",
            "events": "発生した事件",
            "protagonist_emotions": "主人公の受動的感情",
            "protagonist_actions": "主人公の意思と行動",
            "situation_change": "状況の変化",
            "foreshadowing": "次章への伏線"
          }},
          ...
          {{
            "chapter": 10,
            "situation": "物語世界の状況",
            "events": "発生した事件",
            "protagonist_emotions": "主人公の受動的感情",
            "protagonist_actions": "主人公の意思と行動",
            "situation_change": "状況の変化",
            "conclusion": "物語の締めくくり"
          }}
        ]
      }}
    }}

extract_chapter:
  system: |
    あなたは物語構造の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下のプロットから、第{chapter_number}章のみを抽出してください。

    プロット全体:
    {plot}

    出力形式（必ずこのJSON形式で）:
    {{
      "chapter_{chapter_number}": {{
        "situation": "物語世界の状況",
        "events": "発生した事件",
        "protagonist_emotions": "主人公の受動的感情",
        "protagonist_actions": "主人公の意思と行動",
        "situation_change": "状況の変化",
        "foreshadowing": "次章への伏線"
      }}
    }}

extract_keywords:
  system: |
    あなたは物語分析の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下の章プロットから、重要なキーワードを最大10個抽出してください。

    章プロット:
    {chapter_plot}

    キーワードは以下の観点から選んでください:
    - 重要な場所・舞台
    - 重要なアイテム・道具
    - 重要な概念・テーマ
    - 重要な出来事
    - 重要な感情

    出力形式（必ずこのJSON形式で）:
    {{
      "keywords": [
        "キーワード1",
        "キーワード2",
        ...
      ]
    }}

search_references:
  system: |
    あなたは情報検索の専門家です。
    常に日本語で応答します。
    常にJSON形式で応答します。

  user: |
    以下のキーワードに基づき、世界設定データから関連する要素を最大20個抽出してください。

    キーワード: {keywords}

    世界設定データ:
    {world_data}

    関連する要素を検索し、以下の形式で出力してください:
    - source: データの出典（events, observation, characters_list など）
    - content: 関連する内容
    - relevance: 関連性の説明

    出力形式（必ずこのJSON形式で）:
    {{
      "references": [
        {{
          "source": "データの出典",
          "content": "関連する内容",
          "relevance": "関連性の説明"
        }},
        ...
      ]
    }}
